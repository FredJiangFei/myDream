<div class="user-register-container">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">
        {{'userRegister.userSignUp' | translate}}
      </h3>
    </div>
    <div class="panel-body">
      <form [formGroup]="userForm" (ngSubmit)="doRegister()"
            class="form-horizontal" role="form" novalidate>

        <div class="form-group col-sm-12">
          <label>{{'userRegister.userName' | translate}}</label>
          <input formControlName="username" class="form-control">
          
          <div *ngIf="username.pending">Checking username....</div>

          <div class="alert alert-danger" *ngIf="username.touched && username.invalid">
             <div *ngIf="username.errors.required"> 
               UserName is required.
              </div>
             <div *ngIf="username.errors.minlength"> 
               UserName should minimum {{ username.errors.minlength.requiredLength }} characters.
              </div>
              <div *ngIf="username.errors.cannotContainNumber">
                UserName can not contain number.
              </div>
              <div *ngIf="username.errors.shouldBeUnique">
                  Username is already taken.
              </div>   
          </div>
        </div>

        <div class="form-group col-sm-12">
          <label>
            {{'userRegister.email' | translate}}
          </label>
          <input type="text" class="form-control" formControlName="email">

          <div class="alert alert-danger" *ngIf="email.touched && email.invalid">
              <div *ngIf="email.errors.required">Email is required.</div>
              <div *ngIf="!email.errors.required && email.errors.email">Email format is wrong.</div>
          </div>
        </div>

        <div class="form-group col-sm-12">
          <label>
              {{'userRegister.password' | translate}}
          </label>
          <input type="password" class="form-control" formControlName="password">

          <div class="alert alert-danger" *ngIf="password.touched && password.invalid">
              <div *ngIf="password.errors.required">
                  Passowrd is required.
              </div>
              <div *ngIf="password.errors.minlength">
                  {{'userRegister.password-placeholder'|translate}}
              </div>
          </div>
        </div>

        <div class="form-group col-sm-12">
            <label>
                {{'userRegister.repeat-pwd' | translate}}
            </label>
            <input type="password" class="form-control" formControlName="repeatPassword">
           
            <div class="alert alert-danger" *ngIf="repeatPassword.touched 
                                                && userForm.errors 
                                                && userForm.errors.passowrdNotEqual">
                {{'userRegister.repeat-pwd-placeholder'|translate}}
            </div>
        </div>

        <div class="form-group col-sm-12">
          <button [disabled]="userForm.invalid" type="submit" class="btn btn-success">
            {{'userRegister.signUp' | translate}}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
